(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{2160:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),a=r.n(n),i=r(218),o=r(2022),l=r(100);function c(e){var t=e.layerName,r=e.layerVersionArn,c=e.items,s={items:[{text:l.intl.formatMessage({id:"layers.title"}),href:"#/layers"},{text:"".concat(t),href:"#/layers/".concat(t)}]};return r&&(s.rightSide=Object(n.useMemo)((function(){return a.a.createElement("div",null,a.a.createElement(i.a,{tagName:"b",id:"ARN"})," - ",a.a.createElement(o.a,{value:r}))}),[r])),c&&c.forEach((function(e){var t=e.text,r=e.href;return s.items.push({text:t,href:r})})),s}},2269:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d}));var n=r(38),a=r(2004);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={oneOf:[{properties:{entryType:{enum:["upload"]},upload:{type:"object",properties:{size:{type:"integer",maximum:a.a.MAX_UPLOAD_SIZE,errorMessage:{maximum:a.b["upload.conform"].replace("{maxSize}",Object(n.p)(a.a.MAX_UPLOAD_SIZE))}},name:{type:"string",pattern:"\\.(".concat(a.a.VALID_FILE_EXTENSIONS.join("|"),")$")}}}},required:["upload"],errorMessage:{required:{upload:a.b["upload.required"]}}},{properties:{entryType:{enum:["s3"]},s3:{type:"string",maxLength:2e3,minLength:10,pattern:Object(n.N)(),errorMessage:{pattern:a.b["s3.pattern"]}}},required:["s3"]}]},s={description:{type:"string",maxLength:256},compatibleRuntimes:{type:"array",maxItems:15,items:{type:"string"}},compatibleArchitectures:{type:"array",maxItems:2,items:{type:"string"}},licenseInfo:{type:"string",maxLength:512}},u=o(o({type:"object",properties:o({layerName:{type:"string",maxLength:64,pattern:"^[\\w-]*$",errorMessage:{pattern:a.b["layerName.pattern"]}}},s)},c),{},{required:["layerName"]}),d=o({type:"object",properties:s},c)},2349:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r(0),a=r.n(n),i=r(218),o=r(296),l=r(2088),c=r(38),s=r(1981),u=r(100),d=r(1990),m=r(551);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){var t=e.options.reduce((function(t,r){return p(p({},t),{},y({},r.id,(e.value||[]).indexOf(r.id)>-1))}),{}),r=function(r){var n,a=r.detail,i=r.target;t[i.id]=a.checked,null===(n=e.onChange)||void 0===n||n.call(e,{detail:{value:Object.keys(t).filter((function(e){return t[e]}))}})};return a.a.createElement(a.a.Fragment,null,e.options.map((function(e){return a.a.createElement(m.Checkbox,{onChange:r,checked:t[e.id],key:e.id,id:e.id,name:e.id},e.label)})))};function E(e){var t=e.entryType,r=[{value:"upload",label:a.a.createElement(i.a,{id:"config.code.type.upload.nodejs"})},{value:"s3",label:a.a.createElement(i.a,{id:"config.code.type.s3.html"})}],n={upload:a.a.createElement(o.FormField,{id:"upload",constraintText:a.a.createElement(i.a,{id:"config.code.upload.largeZipWarning"})},a.a.createElement(l.a,null)),s3:a.a.createElement(o.FormField,{id:"s3",label:a.a.createElement(i.a,{id:"config.code.s3.label"}),description:a.a.createElement(i.a,{id:"config.code.s3.tooltip"})},a.a.createElement(o.FormInput,{placeholder:"https://s3.".concat(Object(c.s)(),"/mybucket/path/to/object.zip")}))},m=Object(s.n)(),f=Object(d.c)();return m.push({value:"provided",label:u.intl.formatMessage({id:"config.code.runtime.custom"})}),a.a.createElement(a.a.Fragment,null,a.a.createElement(o.FormField,{id:"description",label:a.a.createElement(i.a,{id:"config.description.label"}),optional:!0},a.a.createElement(o.FormInput,{placeholder:u.intl.formatMessage({id:"config.description.label"})})),a.a.createElement(o.FormField,{id:"entryType"},a.a.createElement(o.FormRadioGroup,{items:r})),n[t],f.length>1?a.a.createElement(o.FormField,{id:"compatibleArchitectures",label:a.a.createElement(i.a,{id:"layers.create.labels.compatibleArchitectures"}),description:a.a.createElement(i.a,{id:"layers.create.description.compatibleArchitectures"}),infoPath:"architectures.helpContent",optional:!0},a.a.createElement(b,{options:f})):null,a.a.createElement(o.FormField,{id:"compatibleRuntimes",label:a.a.createElement(i.a,{id:"layers.create.labels.compatibility"}),description:a.a.createElement(i.a,{id:"layers.create.compatibility.tooltip"}),infoPath:"layers.create.helpContent.compatibility",optional:!0},a.a.createElement(o.FormMultiselect,{options:m,placeholder:u.intl.formatMessage({id:"layers.create.placeholders.compatibility"}),filteringType:"auto"})),a.a.createElement(o.FormField,{id:"licenseInfo",label:a.a.createElement(i.a,{id:"layers.create.labels.license"}),infoPath:"layers.create.helpContent.license",optional:!0},a.a.createElement(o.FormTextarea,null)))}b.formFieldConfig={type:"checkbox",onChangeProp:"onChange",valueProp:"value"}},2550:function(e,t,r){"use strict";r.r(t),r.d(t,"CreateLayerPageComponent",(function(){return E}));var n=r(0),a=r.n(n),i=r(218),o=r(211),l=r(2250),c=r(249),s=r(297),u=r(1969),d=r(1972),m=r(296),f=r(2349),p=r(1985),y=r(2269),b=r(100);function E(e){var t=e.creating,r=e.entryType,n=e.createLayer;return a.a.createElement(p.a,{id:"createLayer",breadcrumbs:{items:[{text:b.intl.formatMessage({id:"layers.title"}),href:"#/layers"},{text:b.intl.formatMessage({id:"layers.create"}),href:"#/create/layer"}]}},a.a.createElement(d.b,{id:"createLayer",header:a.a.createElement(i.a,{tagName:"h1",id:"layers.create"}),actionsProvider:function(e){return a.a.createElement(c.default,{direction:"horizontal",size:"xs"},a.a.createElement(s.default,{variant:"link",href:"#/layers"},a.a.createElement(i.a,{id:"cancel"})),a.a.createElement(s.default,{variant:"primary",onClick:e,loading:t},a.a.createElement(i.a,{id:"layers.buttons.create"})))},onSubmit:n,schema:y.a},a.a.createElement(u.e,{header:a.a.createElement(i.a,{id:"layers.create.header.title"})},a.a.createElement(m.FormField,{id:"layerName",fieldTextProps:["label"]},a.a.createElement(m.FormInput,{placeholder:"myLayerName"})),a.a.createElement(f.a,{entryType:r}))))}t.default=Object(o.connect)(l.c,l.b,l.d)(E)},2551:function(e,t,r){"use strict";r.r(t),r.d(t,"CreateLayerVersionPageComponent",(function(){return b}));var n=r(0),a=r.n(n),i=r(211),o=r(551),l=r(218),c=r(2251),s=r(2160),u=r(2269),d=r(1969),m=r(1972),f=r(2349),p=r(1985),y=r(100);function b(e){var t=e.creating,r=e.entryType,n=e.layerName,i=e.createLayerVersion,c=n?"#/layers/".concat(n):"#/layers",b=[{text:y.intl.formatMessage({id:"layerDetail.breadcrumbs.publishVersion"}),href:"#/layers/".concat(n,"/create/version")}],E=Object(s.a)({layerName:n,items:b});return a.a.createElement(p.a,{id:"createLayerVersion",breadcrumbs:E},a.a.createElement(m.b,{id:"createLayerVersion",header:a.a.createElement(l.a,{tagName:"h1",id:"layers.publish"}),actionsProvider:function(e){return a.a.createElement("div",null,a.a.createElement(o.Button,{variant:"link",href:c},a.a.createElement(l.a,{id:"cancel"})),a.a.createElement(o.Button,{variant:"primary",onClick:e,loading:t},a.a.createElement(l.a,{id:"layers.buttons.create"})))},onSubmit:i,schema:u.b},a.a.createElement(d.e,{header:a.a.createElement(l.a,{id:"layers.publish.header.title"})},a.a.createElement(f.a,{entryType:r}))))}t.default=Object(i.connect)(c.c,c.b,c.d)(b)},2759:function(e,t,r){"use strict";r.r(t),r.d(t,"AddLayerPageComponent",(function(){return W}));var n=r(0),a=r.n(n),i=r(218),o=r(568),l=r(211),c=r(249),s=r(297),u=r(1977),d=r(2147),m=r(551),f=r(296),p=r(100),y=r(1969),b=r(2020),E=r(1990),v=r(1981),g=r(38);var h=Object(l.connect)((function(e){return{layerVersion:Object(b.h)(e)}}),(function(e){return{verifyArn:function(t){e(Object(b.g)(t))}}}))((function(e){var t,r,n,o,l=a.a.useContext(f.FormContext).form,c=null===(t=e.layerVersion)||void 0===t||null===(r=t.compatibleRuntimes)||void 0===r?void 0:r.map((function(e){return Object(v.r)(e)})),u=[{key:a.a.createElement(i.a,{id:"add.layer.selection.fromArn.description"}),value:(null===(n=e.layerVersion)||void 0===n?void 0:n.description)||"-"},{key:a.a.createElement(i.a,{id:"add.layer.selection.fromArn.compatibleRuntimes"}),value:Object(g.E)(c)},{key:a.a.createElement(i.a,{id:"add.layer.selection.fromArn.compatibleArchitectures"}),value:Object(g.E)(null===(o=e.layerVersion)||void 0===o?void 0:o.compatibleArchitectures)}],d=a.a.createElement(s.default,{onClick:function(){var t=null==l?void 0:l.getIn(["values","layerVersionArn"]);e.verifyArn(t)}},a.a.createElement(i.a,{id:"add.layer.selection.fromArn.verify"})),b=Object(E.c)().length>1;return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.FormField,{id:"layerVersionArn",label:a.a.createElement(i.a,{id:"add.layer.selection.provideArn.input.label"}),description:a.a.createElement(i.a,{id:"add.layer.selection.provideArn.input.description"}),secondaryControl:b?d:null},a.a.createElement(m.Input,{placeholder:p.intl.formatMessage({id:"add.layer.selection.provideArn.placeholder"})})),b&&e.layerVersion?a.a.createElement(y.f,{flat:!0,columns:1,items:u}):null)})),O=r(1988);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S=Object(l.connect)((function(e){var t=Object(f.getFieldValue)(e,"addLayer","runtime"),r=Object(f.getFieldValue)(e,"addLayer","layerName"),n=O.c.getLayersList(e).filter((function(e){var r=e.latestMatchingVersion.compatibleRuntimes;return null==r?void 0:r.includes(t)})).map((function(e){var t=e.layerName;return{value:t,label:t,description:e.latestMatchingVersion.description}})).toJS();return{loadingLayers:Object(b.f)(e),loadingLayerVersions:Object(b.e)(e),layers:n,layerNameValue:r,layerVersions:O.c.getLayerVersions(e).map(d.b).toJS()}}),(function(e){return{loadLayerVersions:function(t){e(Object(b.i)(t))}}}))((function(e){var t=[];e.layers.length>0&&t.push({value:"my",label:p.intl.formatMessage({id:"add.layer.selection.selectCompatible.layer.group.my"}),options:e.layers});var r={description:a.a.createElement(i.a,{id:"add.layer.selection.selectCompatible.input.description"})},n=e.layerNameValue;return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.default,{size:"s"},a.a.createElement(f.FormField,j({id:"layerName",label:a.a.createElement(i.a,{id:"add.layer.selection.selectCompatible.input.label"})},r,{onChange:function(t){return e.loadLayerVersions(t)}}),a.a.createElement(f.FormSelect,{options:t,placeholder:p.intl.formatMessage({id:"add.layer.selection.placeholder"}),statusType:e.loadingLayers?"loading":null,empty:a.a.createElement(i.a,{id:"add.layer.selection.selectCompatible.empty"})})),n&&a.a.createElement(f.FormField,{id:"layerVersion",label:a.a.createElement(i.a,{id:"add.layer.selection.selectCompatible.version.label"})},a.a.createElement(f.FormSelect,{options:e.layerVersions,statusType:e.loadingLayerVersions?"loading":null,empty:a.a.createElement(i.a,{id:"add.layer.selection.selectCompatible.empty"}),filteringType:Object(E.c)().length>1?"auto":"none"}))))})),A=r(2004),L={type:"object",properties:{functionName:{type:"string",maxLength:64,nonEmpty:!0,pattern:"^[\\w-]*$",errorMessage:{pattern:A.b["name.pattern"]}}},required:["functionName"],anyOf:[{properties:{layerSelection:{enum:["awsProvidedLayers"]},layerName:{type:"string"},layerVersion:{type:"string"}},required:["layerName","layerVersion"]},{properties:{layerSelection:{enum:["selectCompatible"]},layerName:{type:"string"},layerVersion:{type:"string"}},required:["layerName","layerVersion"]},{properties:{layerSelection:{enum:["provideArn"]},layerVersionArn:{type:"string",nonEmpty:!0,pattern:"^$|^arn:".concat(Object(g.t)(),":lambda:").concat(Object(g.L)(),":\\d{12}:layer:[A-Za-z0-9-_]+:\\d+$|^arn:").concat(Object(g.t)(),":lambda:::awslayer:[A-Za-z0-9-_]+$"),errorMessage:{pattern:A.b["layer.arnInput.pattern"]}}},required:["layerVersionArn"]}].filter((function(e){return!!e}))},N=r(2129),P=r(1972),T=r(1971);var D=Object(l.connect)((function(e){return{error:Object(N.c)(e),functions:Object(N.b)(e),loading:Object(N.d)(e)}}))((function(e){var t=(e.functions||[]).filter((function(e){var t=e.functionName;return!Object(T.u)(t)})).map((function(e){return{value:e.functionName}}));return n.createElement(y.e,{header:n.createElement(i.a,{id:"add.function.header"}),description:e.description&&n.createElement(i.a,{id:e.description})},n.createElement(f.FormField,{id:e.id,label:n.createElement(i.a,{id:"add.function.label"}),onChange:function(t){return e.onSelectChange(t,e.functions)}},n.createElement(P.a,{options:t,statusType:e.loading?"loading":null})))})),V=r(1985),w=r(1955),F=r(101),C=r(1996);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=q(e);if(t){var a=q(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=F.WorkflowTags,H=[{id:b.a.AWS_PROVIDED,component:a.a.createElement(d.a,null),tag:z.aws},{id:b.a.COMPATIBLE,component:a.a.createElement(S,null),tag:z.compatible},{id:b.a.PROVIDED_ARN,component:a.a.createElement(h,null),tag:z.arn}],G=H.map((function(e){var t=e.id,r=e.component;return{id:t,description:p.intl.formatMessage({id:"add.layer.selection.".concat(t,".radioLabel.description")}),component:r}})).map((function(e){var t=e.id,r=e.description;return{value:t,label:a.a.createElement(i.a,{id:"add.layer.selection.".concat(t,".radioLabel")}),description:r}}));var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(d,e);var t,r,n,l=_(d);function d(){var e;M(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return B(U(e=l.call.apply(l,[this].concat(r))),"onLayerSourceChange",(function(t){e.props.onTileChange(t),F.panorama.logWorkflowEvent({tagPath:e.props.nextTag(z.selectLayerSource),eventDetail:{source:t.detail.value}})})),e}return t=d,(r=[{key:"componentDidMount",value:function(){F.panorama.logWorkflowEvent({tagPath:this.props.nextTag(z.selectLayerSource),eventDetail:{source:G[0].value}})}},{key:"componentDidUpdate",value:function(e){this.props.showFunctionSelector&&!e.showFunctionSelector&&this.props.reloadFunctions()}},{key:"render",value:function(){var e,t,r=this,n=H.find((function(e){return e.id===r.props.selection})),l=[{key:a.a.createElement(i.a,{id:"create.configureFunction.runtime.label"}),value:Object(v.r)(this.props.functionRuntime)},{key:a.a.createElement(i.a,{id:"config.code.image.architectures"}),value:null===(e=this.props.functionArchitectures)||void 0===e?void 0:e.join(", ")}],d="add.layer.selection.description";return Object(E.c)().length>1&&(t=a.a.createElement(C.a,{id:"functionRuntime"}," ",a.a.createElement(y.f,{flat:!0,items:l,columns:2})," "),d="add.layer.selection.source.description"),a.a.createElement(V.a,{id:"addLayer",breadcrumbs:{items:[{text:p.intl.formatMessage({id:"layers.title"}),href:"#/layers"},{text:p.intl.formatMessage({id:"add.layer.title"}),href:"#/add/layer"}]},tag:this.props.tag,tagType:this.props.tagType},a.a.createElement(P.b,{id:"addLayer",header:a.a.createElement(i.a,{tagName:"h1",id:"add.layer.title"}),actionsProvider:function(e){return a.a.createElement(c.default,{direction:"horizontal",size:"xs"},a.a.createElement(s.default,{variant:"link",onClick:r.props.cancel,"data-analytics":z.cancel},a.a.createElement(i.a,{id:"cancel"})),a.a.createElement(s.default,{variant:"primary",onClick:e,loading:r.props.savingLayers,"data-analytics":z.add},a.a.createElement(i.a,{id:"add.button.submit"})))},onSubmit:this.props.add,schema:L},t,this.props.showFunctionSelector&&a.a.createElement(w.TaggedDiv,{tag:z.selectFunction},a.a.createElement(D,{id:"functionName",description:"add.layer.functionDescription",onSelectChange:this.props.onFunctionSelectorChange})),a.a.createElement(y.e,{header:a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{id:"add.layer.selectLayer"}))},a.a.createElement(f.FormField,{id:"layerSelection",stretch:!0,label:a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{id:"add.layer.selection.source.label"}),a.a.createElement(u.a,{path:"addLayer.helpContent"})),description:a.a.createElement(o.a,{id:d})},a.a.createElement(f.FormTiles,{items:G,onChange:this.onLayerSourceChange})),a.a.createElement(w.TaggedDiv,{tag:n.tag},n.component))))}}])&&I(t.prototype,r),n&&I(t,n),d}(a.a.Component);t.default=Object(w.tagContextHoc)(Object(l.connect)(b.l,b.k,b.m)(W),!0)},2760:function(e,t,r){"use strict";r.r(t),r.d(t,"ViewLayerPageComponent",(function(){return _}));var n=r(0),a=r.n(n),i=r(551),o=r(218),l=r(211),c=r(57),s=r(2046),u=r(1969),d=r(1995),m=r(1990),f=r(38);function p(e){var t,r=e.layerVersion,n=Object(m.c)(),l=3,c=(r.compatibleRuntimes||[]).map((function(e,t){return a.a.createElement("div",{key:t},e)}));0===c.length&&(l=1,c=a.a.createElement("div",{className:"awsui-util-t-c"},a.a.createElement(o.a,{id:"layerDetail.versions.attributes.compatibleRuntimes.empty"})));var s=4,p=[[{key:a.a.createElement(o.a,{id:"layerDetail.versions.attributes.version"}),value:a.a.createElement("span",null,r.version)}],[{key:a.a.createElement(o.a,{id:"config.description.label"}),value:a.a.createElement("span",null,r.description||a.a.createElement(o.a,{id:"-"}))}],[{key:a.a.createElement(o.a,{id:"layerDetail.versions.attributes.createdDate"}),value:a.a.createElement(d.a,{value:r.createdDate||new Date})}],[{key:a.a.createElement(o.a,{id:"layerDetail.versions.attributes.license"}),value:a.a.createElement("span",null,null!==(t=r.licenseInfo)&&void 0!==t?t:a.a.createElement(o.a,{id:"-"}))}]];if(n.length>1){c=(r.compatibleRuntimes||[]).map((function(e){return e}));var y=(r.compatibleArchitectures||[]).map((function(e){return e}));s=3,p=p.concat([[{key:a.a.createElement(o.a,{id:"layerDetail.config.header.title.compatibleRuntimes"}),value:a.a.createElement("span",null,Object(f.E)(c))}],[{key:a.a.createElement(o.a,{id:"layerDetail.config.header.title.compatibleArchitectures"}),value:a.a.createElement("span",null,Object(f.E)(y))}]])}return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.c,{id:"layer-version-detail",header:a.a.createElement(u.a,{header:a.a.createElement(o.a,{id:"layerDetail.config.header.title.general"})})},a.a.createElement(u.f,{columns:s,items:p,variant:m.b.length>1?"text-grid":"default",borders:"vertical"})),n.length<2?a.a.createElement(u.c,{id:"layer-version-compatible",header:a.a.createElement(o.a,{tagName:"h2",id:"layerDetail.config.header.title.compatibleRuntimes"})},a.a.createElement(i.ColumnLayout,{columns:l},a.a.createElement("div",{"data-awsui-column-layout-root":"true"},c))):null)}var y=function(e){return e.map((function(e){return{versionArn:e.get("layerVersionArn"),versionNumber:e.get("version"),description:e.get("description")}})).toArray()};var b=Object(l.connect)((function(e){return{layerVersions:Object(s.d)(e),loading:Object(s.f)(e)}}))((function(e){var t=e.layerName,r=e.layerVersions,n=e.loading,l=e.version,c=[{id:"versionNumber",header:function(){return a.a.createElement(o.a,{id:"layerDetail.versions.table.column.version"})},cell:function(e){return l===e.versionNumber?e.versionNumber:a.a.createElement("a",{href:"#/layers/".concat(t,"/versions/").concat(e.versionNumber)},e.versionNumber)}},{id:"versionArn",header:function(){return a.a.createElement(o.a,{id:"layerDetail.versions.table.column.versionArn"})},cell:function(e){return e.versionArn}},{id:"description",header:function(){return a.a.createElement(o.a,{id:"config.description.label"})},cell:function(e){var t;return null!==(t=e.description)&&void 0!==t?t:a.a.createElement(o.a,{id:"-"})}}];return a.a.createElement(i.Table,{columnDefinitions:c,items:y(r),loading:n,header:a.a.createElement(u.a,{header:a.a.createElement(o.a,{id:"layerDetail.versions.table.header.title"})}),empty:a.a.createElement(o.a,{id:"layerDetail.versions.table.empty"})})})),E=r(297),v=r(2259),g=r(2021);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=Object(l.connect)(s.h,s.g,s.i)((function(e){var t=e.layerVersionDetails,r=e.numberOfLayerVersions,n=e.navigateToEditPage,i=e.storeSelectedFunctions,l=t.layerName,c=t.version,s=t.layerVersionArn;return a.a.createElement(v.a,{headerPropsProvider:function(e){return{children:a.a.createElement(o.a,{id:"layerDetail.functionsTable.header"}),description:a.a.createElement(o.a,{id:"layerDetail.functionsTable.header.description"}),actions:a.a.createElement(E.default,{onClick:function(){return function(e){i(e.map((function(e){return O(O({},e),{},{layerVersionUpdateStatus:g.b.PENDING,layerVersionUpdateErrorMessage:null})}))),n(l,c)}(e)},disabled:0===e.length||r<=1},a.a.createElement(o.a,{id:"layerDetail.functionsTable.editButton"}))}},transformItem:function(e){var t;return null!==(t=e.layers)&&void 0!==t&&t.some((function(e){return e===s}))?e:void 0}})})),A=r(2160),L=r(1979),N=r(568),P=r(1987),T=r(2134),D=r(1982),V=r(1988),w=r(100);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=Object(l.connect)((function(e){return{loading:Object(V.b)(e),location:Object(D.b)(e)}}),(function(e){return{onClose:function(){return e(Object(P.c)({query:{deleteModal:void 0}},{persistQuery:!0}))},onDelete:function(t,r){return e(Object(T.a)(t,r))}}}),(function(e,t,r){return C(C(C(C({},r),e),t),{},{onDelete:function(){return t.onDelete(r.layerName,r.version)}})}))((function(e){var t=e.layerName,r=e.version,n=e.loading,l=e.location,c=e.onClose,s=e.onDelete,u=a.a.createElement(N.a,{tagName:"p",id:"modal.delete.text.layerVersion"}),d=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(i.Button,{variant:"link",onClick:c},a.a.createElement(o.a,{id:"cancel"})),a.a.createElement(i.Button,{variant:"primary",loading:n,onClick:s},a.a.createElement(o.a,{id:"modal.delete.button.submit"}))),m=w.intl.formatMessage({id:"modal.delete.title.layerVersion"},{layerName:t,version:r});return a.a.createElement(i.Modal,{expandToFit:!0,size:"medium",header:m,footer:d,visible:!!l.query.deleteModal,onDismiss:c},u)})),I=r(1985),k=r(2340);function _(e){var t,r=e.layerVersion,n=e.routeParams,l=e.deleteVersion,s=e.downloadPackage,d=e.pageLoadError,m=e.activeLayerTab,y=e.changeActiveLayerTab;if(d)return a.a.createElement(c.Redirect,{to:"/functions"});var E=n.layerName,v=n.version,h=Object(A.a)({layerName:E,layerVersionArn:r.layerVersionArn}),O={layerName:E,version:r.version,layerVersionArn:r.layerVersionArn},j=[{id:g.c.VERSIONS,label:a.a.createElement(o.a,{id:"layerDetail.tabs.versions"}),content:a.a.createElement(b,{layerName:E,version:r.version})},{id:g.c.FUNCTIONS,label:a.a.createElement(o.a,{id:"layerDetail.tabs.functions"}),content:a.a.createElement(S,{layerVersionDetails:O})}];return a.a.createElement(I.a,{id:"viewLayer",breadcrumbs:h},a.a.createElement(u.a,{large:!0,header:E},a.a.createElement(i.Button,{onClick:l},a.a.createElement(o.a,{id:"layerDetail.buttonsGroup.delete"})),a.a.createElement(i.Button,{onClick:s},a.a.createElement(o.a,{id:"layerDetail.buttonsGroup.downloadPackage"})),a.a.createElement(i.Button,{variant:"primary",href:"#/layers/".concat(E,"/create/version")},a.a.createElement(o.a,{id:"layerDetail.buttonsGroup.createVersion"}))),a.a.createElement(L.b,{scope:"viewLayer"}),a.a.createElement(p,{layerVersion:r}),Object(f.S)("wolverine")?a.a.createElement(k.a,{tabs:j,activeTabId:m,onChange:function(e){var t=e.detail;return y(t.activeTabId)}}):a.a.createElement(b,{layerName:E,version:r.version}),a.a.createElement(M,{layerName:E,version:v||(null===(t=r.version)||void 0===t?void 0:t.toString())}))}t.default=Object(l.connect)(s.h,s.g,s.i)(_)},2761:function(e,t,r){"use strict";r.r(t),r.d(t,"EditLayerFunctionsPageComponent",(function(){return z}));var n=r(0),a=r.n(n),i=r(211),o=r(218),l=r(110),c=r.n(l),s=r(2050),u=r(551),d=r(839),m=r.n(d),f=r(100),p=r(38),y=r(2198),b=r(414),E=r(249),v=r(1969),g=r(2021);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e){var t,r=e.functionsUpdateStatus,n=e.layerVersions,i=e.layerVersion,l=e.storeTargetLayerVersion,c=function(e,t){return e.map((function(e,r){var n=e.toJS(),a=n.compatibleArchitectures,i=n.compatibleRuntimes,o=n.description,l=n.layerVersionArn,c=n.version,s=[f.intl.formatMessage({id:"functionsLayerEdit.versionsDropdown.runtimes.value"},{compatibleRuntimes:Object(p.E)(i)})].concat(O(Object(p.S)("flex")?[f.intl.formatMessage({id:"functionsLayerEdit.versionsDropdown.architectures.value"},{compatibleArchitectures:Object(p.E)(a)})]:[])),u=c===t;return{description:f.intl.formatMessage({id:"functionsLayerEdit.versionsDropdown.description.value"},{description:null!=o?o:"-"}),disabled:u,id:c,index:r,label:u?f.intl.formatMessage({id:"functionsLayerEdit.versionsDropdown.label.currentVersion"},{version:c}):c.toString(),layerVersionArn:l,tags:s,value:c}})).toArray()}(n,i.version),s=h(a.a.useState(function(e,t){return e.reduce((function(e,r){return r.value!==t&&(!e||r.value>e.value)?r:e}),null)}(c,i.version)),2),d=s[0],m=s[1];a.a.useEffect((function(){l(d)}),[d]);var j=[[{key:a.a.createElement(o.a,{id:"functionsLayerEdit.versionsDropdown.description"}),value:a.a.createElement("span",null,null!==(t=n.get(d.index).get("description"))&&void 0!==t?t:"-")}],[{key:a.a.createElement(o.a,{id:"functionsLayerEdit.versionsDropdown.compatibleRuntimes"}),value:a.a.createElement("span",null,Object(p.E)(n.get(d.index).get("compatibleRuntimes")))}]];return Object(p.S)("flex")&&j.push([{key:a.a.createElement(o.a,{id:"functionsLayerEdit.versionsDropdown.compatibleArchitectures"}),value:a.a.createElement("span",null,Object(p.E)(n.get(d.index).get("compatibleArchitectures")))}]),a.a.createElement(y.a,{header:a.a.createElement(v.a,{header:a.a.createElement(o.a,{id:"functionsLayerEdit.versionsDropdown.firstHeader"})})},a.a.createElement(b.default,{variant:"h5"},f.intl.formatMessage({id:"functionsLayerEdit.versionsDropdown.secondHeader"})),a.a.createElement(b.default,{color:"text-body-secondary"},f.intl.formatMessage({id:"functionsLayerEdit.versionsDropdown.thirdHeader"})),a.a.createElement(E.default,{size:"l"},a.a.createElement(u.FormField,null,a.a.createElement(u.Select,{options:c,selectedOption:d,onChange:function(e){var t=e.detail;return m(t.selectedOption)},disabled:r!==g.a.PENDING})),a.a.createElement(v.f,{columns:j.length,items:j,borders:"vertical"})))}A.propTypes={functionsUpdateStatus:c.a.string.isRequired,layerVersions:m.a.list.isRequired,layerVersion:c.a.object.isRequired,targetLayerVersion:c.a.object.isRequired,storeTargetLayerVersion:c.a.func.isRequired};var L=Object(i.connect)(s.c,s.b,s.d)(A),N=r(565),P=function(){var e=[{id:"functionName",header:a.a.createElement(o.a,{id:"functionsLayerEdit.functionsTable.functionName"}),cell:function(e){return a.a.createElement("a",{href:"#/functions/".concat(e.functionName)},e.functionName)}},{id:"runtime",header:a.a.createElement(o.a,{id:"functionsLayerEdit.functionsTable.runtime"}),cell:function(e){return e.runtime}}];return Object(p.S)("flex")&&e.push({id:"architecture",header:a.a.createElement(o.a,{id:"functionsLayerEdit.functionsTable.architecture"}),cell:function(e){return e.architecture}}),e.push({id:"status",header:a.a.createElement(o.a,{id:"functionsLayerEdit.functionsTable.status"}),cell:function(e){return function(e,t){switch(e){case g.b.PENDING:return"-";case g.b.IN_PROGRESS:return a.a.createElement(N.default,{type:"in-progress"},f.intl.formatMessage({id:"functionsLayerEdit.functionsTable.status.inprogress"}));case g.b.SUCCESS:return a.a.createElement(N.default,{type:"success"},f.intl.formatMessage({id:"functionsLayerEdit.functionsTable.status.success"}));case g.b.FAILED:return a.a.createElement(N.default,{type:"error"},f.intl.formatMessage({id:"functionsLayerEdit.functionsTable.status.failure"},{message:t}));default:return"-"}}(e.layerVersionUpdateStatus,e.layerVersionUpdateErrorMessage)}}),e};function T(e){var t=e.functions,r=P();return a.a.createElement(u.Table,{header:a.a.createElement(v.a,{header:a.a.createElement("span",null,a.a.createElement(o.a,{id:"functionsLayerEdit.functionsTable.header"})," "),counter:a.a.createElement(o.a,{id:"wrapper",values:{value:t.length}})}),columnDefinitions:r,items:t})}T.propTypes={functions:c.a.array.isRequired};var D=Object(i.connect)(s.c,s.b,s.d)(T);function V(e){var t=e.functionsUpdateStatus,r=e.numberOfSuccessfulUpdates,n=e.numberOfFailedUpdates,i=e.numberOfPreviousSuccessfulUpdates,o=e.retryButtonOnClick;return a.a.createElement(E.default,{size:"s"},a.a.createElement(u.Alert,{visible:r>0&&(t===g.a.FINISHED||t===g.a.IN_PROGRESS&&i>0),dismissible:!1,type:"success"},1===r?f.intl.formatMessage({id:"functionsLayerEdit.successMessage.singleFunction"},{number:r}):f.intl.formatMessage({id:"functionsLayerEdit.successMessage.multipleFunctions"},{number:r})),a.a.createElement(u.Alert,{visible:t===g.a.FINISHED&&n>0,type:"error",buttonText:f.intl.formatMessage({id:"functionsLayerEdit.retryButton"}),onButtonClick:o},1===n?f.intl.formatMessage({id:"functionsLayerEdit.failedMessage.singleFunction"},{number:n}):f.intl.formatMessage({id:"functionsLayerEdit.failedMessage.multipleFunctions"},{number:n})))}V.propTypes={functionsUpdateStatus:c.a.string.isRequired,numberOfSuccessfulUpdates:c.a.number.isRequired,numberOfFailedUpdates:c.a.number.isRequired,numberOfPreviousSuccessfulUpdates:c.a.number.isRequired,retryButtonOnClick:c.a.func.isRequired};var w=Object(i.connect)(s.c,s.b,s.d)(V),F=function(e){switch(e){case g.a.PENDING:return a.a.createElement("span",null,a.a.createElement(o.a,{id:"functionsLayerEdit.updateButton"}));case g.a.IN_PROGRESS:return a.a.createElement("span",null,a.a.createElement(u.Spinner,{size:"normal"})," ",a.a.createElement(o.a,{id:"functionsLayerEdit.updatingButton"}));case g.a.FINISHED:return a.a.createElement("span",null,a.a.createElement(o.a,{id:"functionsLayerEdit.closeButton"}));default:return null}};function C(e){var t=e.haveFunctionsUpdated,r=e.functionsUpdateStatus,n=e.updateFunctionsLayerVersion,i=e.layerName,l=e.layerVersion,c=e.targetLayerVersion,s=e.navigateToLayerVersionPage,d=t?c.get("value"):l.version;return a.a.createElement(u.Form,{actions:a.a.createElement(E.default,{direction:"horizontal",size:"xs"},r===g.a.PENDING?a.a.createElement(u.Button,{variant:"link",onClick:function(){return s(i,l.version)}},a.a.createElement("span",null,a.a.createElement(o.a,{id:"functionsLayerEdit.cancelButton"}))):null,a.a.createElement(u.Button,{variant:r===g.a.FINISHED?"normal":"primary",onClick:function(){return r===g.a.PENDING?n():s(i,d)},disabled:r===g.a.IN_PROGRESS},F(r)))})}C.propType={haveFunctionsUpdated:c.a.bool.isRequired,functionsUpdateStatus:c.a.string.isRequired,updateFunctionsLayerVersion:c.a.func.isRequired,layerName:c.a.string.isRequired,layerVersion:c.a.object.isRequired,targetLayerVersion:c.a.object.isRequired,navigateToLayerVersionPage:c.a.func.isRequired};var R=Object(i.connect)(s.c,s.b,s.d)(C),M=r(1985),I=r(2160),k=r(101);function _(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B=function(e){return Math.round(100*e)/100};function z(e){var t=e.selectedFunctions,r=e.layerName,n=e.layerVersion,i=e.targetLayerVersion,l=e.updateFunctionLayerVersion,c=x(a.a.useState(t),2),s=c[0],u=c[1],d=x(a.a.useState(g.a.PENDING),2),m=d[0],y=d[1],b=x(a.a.useState(0),2),h=b[0],O=b[1],j=x(a.a.useState(0),2),S=j[0],A=j[1],N=x(a.a.useState(0),2),P=N[0],T=N[1],V=x(a.a.useState(0),2),F=V[0],C=V[1];a.a.useEffect((function(){if(m!==g.a.FINISHED&&h+S===s.length)if(y(g.a.FINISHED),k.stopCustomTimer(k.EVENT_NAMES.BATCH_LAYER_UPDATE_TOTAL_TIME_TO_UPDATE),F){var e=B((F-S)/F);k.logEventWithValue(k.EVENT_NAMES.BATCH_LAYER_UPDATE_RETRY_SUCESS_RATE,e)}else{var t=B(h/s.length);k.logEventWithValue(k.EVENT_NAMES.BATCH_LAYER_UPDATE_SUCCESS_RATE,t),k.logEventWithValue(k.EVENT_NAMES.BATCH_LAYER_UPDATE_FUNCTIONS_EDIT_COUNT,s.length),k.logEvent(k.EVENT_NAMES.BATCH_LAYER_UPDATE_INTENT_DONE)}}),[m,h,S]);var U=n.layerVersionArn,q=function(e,t,r){e===g.b.SUCCESS?O((function(e){return e+1})):e===g.b.FAILED&&A((function(e){return e+1})),u((function(){var n=_(s);return n[t].layerVersionUpdateStatus=e,e===g.b.FAILED&&(n[t].layerVersionUpdateErrorMessage=r),n}))},z=function(){y(g.a.IN_PROGRESS),k.startCustomTimer(k.EVENT_NAMES.BATCH_LAYER_UPDATE_TOTAL_TIME_TO_UPDATE),s.forEach((function(e,t){if(e.layerVersionUpdateStatus===g.b.PENDING||e.layerVersionUpdateStatus===g.b.FAILED){var r,n=Object(p.kb)(null!==(r=null==e?void 0:e.layers)&&void 0!==r?r:[],U,i.get("layerVersionArn"));l(e.functionName,n,t,q)}}))},H=[{text:f.intl.formatMessage({id:"functionsLayerEdit.breadrumbs.version"},{version:n.version}),href:"#/layers/".concat(r,"/versions/").concat(n.version)},{text:f.intl.formatMessage({id:"functionsLayerEdit.header"})}],G=Object(I.a)({layerName:r,layerVersionArn:null,items:H});return a.a.createElement(M.a,{id:"editLayerFunctions",breadcrumbs:G},a.a.createElement(v.a,{large:!0,header:a.a.createElement(o.a,{id:"functionsLayerEdit.header"})}),a.a.createElement(E.default,{size:"m"},a.a.createElement(L,{functionsUpdateStatus:m}),a.a.createElement(D,{functions:s}),a.a.createElement(w,{functionsUpdateStatus:m,numberOfSuccessfulUpdates:h,numberOfFailedUpdates:S,numberOfPreviousSuccessfulUpdates:P,retryButtonOnClick:function(){C(S),A(0),T(h),z(),k.logEventWithValue(k.EVENT_NAMES.BATCH_LAYER_UPDATE_RETRY,s.length-h)}})),a.a.createElement(R,{haveFunctionsUpdated:h>0,functionsUpdateStatus:m,updateFunctionsLayerVersion:z}))}z.propTypes={selectedFunctions:c.a.array.isRequired,layerName:c.a.string.isRequired,layerVersion:c.a.object.isRequired,targetLayerVersion:c.a.object.isRequired,updateFunctionLayerVersion:c.a.func.isRequired};t.default=Object(i.connect)(s.c,s.b,s.d)(z)},2772:function(e,t,r){"use strict";r.r(t),r.d(t,"ListLayersPageComponent",(function(){return j}));var n=r(0),a=r.n(n),i=r(218),o=r(249),l=r(297),c=r(2073),s=r(100),u=r(1990),d=r(38),m=r(552);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var E=function(e){return a.a.createElement("a",{href:"#/layers/".concat(e.layerName,"/versions/").concat(e.version)},e.layerName)},v=[Object(c.b)({id:"layerName",label:s.intl.formatMessage({id:"layers.name"}),content:E,isCardsHeader:!0,filterable:!0,operators:[":","!:","=","!="],table:{sortingField:"layerName"}}),Object(c.b)({id:"latestVersion",label:s.intl.formatMessage({id:"layers.latestVersion"}),content:function(e){return e.version}}),Object(c.b)({id:"compatibleRuntimes",label:s.intl.formatMessage({id:"layers.runtimes"}),content:function(e){return Object(d.E)(e.compatibleRuntimes)},filterable:!0,operators:[":","!:","=","!="]}),Object(c.b)({id:"compatibleArchitectures",label:s.intl.formatMessage({id:"layerDetail.config.header.title.compatibleArchitectures"}),content:function(e){return Object(d.E)(e.compatibleArchitectures)},filterable:!0,operators:[":","!:","=","!="]}),Object(c.b)({id:"layerVersionArn",label:s.intl.formatMessage({id:"layers.versionArn"}),content:function(e){return e.layerVersionArn}})],g=function(){var e=v;return Object(u.c)().length<2&&(e=e.filter((function(e){return"compatibleArchitectures"!==e.id}))),a.a.createElement(c.a,{id:"layers",trackBy:"layerName",i18nStrings:{filteringPlaceholder:s.intl.formatMessage({id:"layers.resourceList.filteringPlaceholder"}),loadingText:s.intl.formatMessage({id:"layers.resourceList.loadingText"}),preferencesPageSizeOptionLabel:function(e){return s.intl.formatMessage({id:"layers.resourceList.preferencesPageSizeOptionLabel"},{pageSize:e})},groupTitle:function(){return s.intl.formatMessage({id:"layers.resourceList.groupTitle.default"})}},headerProps:{children:a.a.createElement(i.a,{id:"layers.title"}),actions:a.a.createElement(o.default,{direction:"horizontal",size:"xs"},a.a.createElement(l.default,{variant:"primary",href:"#/create/layer"},a.a.createElement(i.a,{id:"layers.create"})))},defaultPreferences:{pageSize:10,wrapLines:!0,visibleContent:["layerName","latestVersion","compatibleRuntimes","compatibleArchitectures"],custom:{type:"table"}},definition:{cardsHeader:E,properties:e},fetchAllItems:!0,fetchItems:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.listLayers({marker:t.nextToken});case 2:return r=e.sent,n=r.body,a=n.layers.map((function(e){return p(p({},e),e.latestMatchingVersion)})),e.abrupt("return",{items:a,nextToken:n.nextMarker});case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){b(i,n,a,o,l,"next",e)}function l(e){b(i,n,a,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),empty:a.a.createElement(i.a,{id:"functions.grid.noData"}),persistPreferencesToBrowserStorage:!0,persistStateToUrl:!0})},h=r(1979),O=r(1985);function j(){return a.a.createElement(O.a,{id:"listLayers",breadcrumbs:{items:[{text:s.intl.formatMessage({id:"layers.title"}),href:"#/layers"}]}},a.a.createElement(h.b,{scope:"listLayers"}),a.a.createElement(g,null))}t.default=j}}]);